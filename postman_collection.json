{
  "info": {
    "name": "DattaPay API",
    "description": "API collection for DattaPay Server - User, Address, and Zynk endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "your-admin-api-token-here",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "your-clerk-jwt-token-here",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Users",
      "description": "User management endpoints",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            }
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": ["{{baseUrl}}"],
              "path": ["users", "1"]
            }
          }
        },
        {
          "name": "Get User by Email",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/email/michael.chen@email.com",
              "host": ["{{baseUrl}}"],
              "path": ["users", "email", "michael.chen@email.com"]
            }
          }
        },
        {
          "name": "Get User by Clerk User ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/clerk/user_2xYz8KmNpQrStUvWx",
              "host": ["{{baseUrl}}"],
              "path": ["users", "clerk", "user_2xYz8KmNpQrStUvWx"]
            }
          }
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"clerkUserId\": \"user_2xYz8KmNpQrStUvWx\",\n  \"firstName\": \"Michael\",\n  \"lastName\": \"Chen\",\n  \"email\": \"michael.chen@email.com\",\n  \"phoneNumberPrefix\": \"1\",\n  \"phoneNumber\": \"4155551234\",\n  \"nationality\": \"US\",\n  \"dateOfBirth\": \"1992-03-15\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            }
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Mike\",\n  \"phoneNumber\": \"4155559876\",\n  \"nationality\": \"US\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": ["{{baseUrl}}"],
              "path": ["users", "1"]
            }
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": ["{{baseUrl}}"],
              "path": ["users", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "Addresses",
      "description": "Address management endpoints",
      "item": [
        {
          "name": "Get All Addresses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses",
              "host": ["{{baseUrl}}"],
              "path": ["addresses"]
            }
          }
        },
        {
          "name": "Get Address by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "1"]
            }
          }
        },
        {
          "name": "Get Address by User ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses/user/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "user", "1"]
            }
          }
        },
        {
          "name": "Create Address",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"addressLine1\": \"742 Evergreen Terrace\",\n  \"addressLine2\": \"Apt 2B\",\n  \"locality\": \"Mission District\",\n  \"city\": \"San Francisco\",\n  \"state\": \"CA\",\n  \"country\": \"US\",\n  \"postalCode\": \"94110\",\n  \"userId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/addresses",
              "host": ["{{baseUrl}}"],
              "path": ["addresses"]
            }
          }
        },
        {
          "name": "Update Address by ID",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"addressLine1\": \"350 Fifth Avenue\",\n  \"addressLine2\": \"Floor 34\",\n  \"locality\": \"Midtown Manhattan\",\n  \"city\": \"New York\",\n  \"state\": \"NY\",\n  \"country\": \"US\",\n  \"postalCode\": \"10118\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/addresses/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "1"]
            }
          }
        },
        {
          "name": "Update Address by User ID",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"addressLine1\": \"1600 Amphitheatre Parkway\",\n  \"locality\": \"Mountain View\",\n  \"city\": \"Mountain View\",\n  \"state\": \"CA\",\n  \"country\": \"US\",\n  \"postalCode\": \"94043\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/addresses/user/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "user", "1"]
            }
          }
        },
        {
          "name": "Delete Address by ID",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "1"]
            }
          }
        },
        {
          "name": "Delete Address by User ID",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses/user/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "user", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "Zynk",
      "description": "Zynk entity management endpoints",
      "item": [
        {
          "name": "Create Zynk Entity",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/zynk/entities/1",
              "host": ["{{baseUrl}}"],
              "path": ["zynk", "entities", "1"]
            },
            "description": "Creates a Zynk entity for the specified user. The user must have an address and must not already have a Zynk entity."
          }
        },
        {
          "name": "Start KYC",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-api-token",
                "value": "{{adminToken}}",
                "type": "text"
              },
              {
                "key": "x-auth-token",
                "value": "{{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/zynk/kyc/1",
              "host": ["{{baseUrl}}"],
              "path": ["zynk", "kyc", "1"]
            },
            "description": "Starts KYC verification for the specified user. The user must have a Zynk entity. Returns kycLink, tosLink, and kycStatus."
          }
        }
      ]
    }
  ]
}
